<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Fictionary | Portfolio</title>
<meta name=keywords content><meta name=description content="Introduction In this blog post, I&rsquo;ll discuss our award-winning hackathon project from the 2021 Western Washington University Hackathon. Our team developed a web application called Fictionary that generates fictitious definitions for coherent words. We&rsquo;ll guide you through the process of building this app, which consists of a large language model, a website, and an API that passes information between the two. We&rsquo;ll also share code examples, images, and insights into our project&rsquo;s development."><meta name=author content="Me"><link rel=canonical href=https://loganpashby.com/projects/fictionary/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://loganpashby.com/logo.svg><link rel=icon type=image/png sizes=16x16 href=https://loganpashby.com/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://loganpashby.com/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://loganpashby.com/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://loganpashby.com/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZJHHBY6NHZ"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZJHHBY6NHZ",{anonymize_ip:!1})}</script><meta property="og:title" content="Fictionary"><meta property="og:description" content="Introduction In this blog post, I&rsquo;ll discuss our award-winning hackathon project from the 2021 Western Washington University Hackathon. Our team developed a web application called Fictionary that generates fictitious definitions for coherent words. We&rsquo;ll guide you through the process of building this app, which consists of a large language model, a website, and an API that passes information between the two. We&rsquo;ll also share code examples, images, and insights into our project&rsquo;s development."><meta property="og:type" content="article"><meta property="og:url" content="https://loganpashby.com/projects/fictionary/"><meta property="og:image" content="https://cdn.hashnode.com/res/hashnode/image/upload/v1682860188524/b1370476-d015-4cb4-90c9-c2a40a0b4fb7.png"><meta property="article:section" content="projects"><meta property="article:published_time" content="2023-04-29T13:00:46-07:00"><meta property="article:modified_time" content="2023-04-29T13:00:46-07:00"><meta property="og:site_name" content="LoganPashby"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://cdn.hashnode.com/res/hashnode/image/upload/v1682860188524/b1370476-d015-4cb4-90c9-c2a40a0b4fb7.png"><meta name=twitter:title content="Fictionary"><meta name=twitter:description content="Introduction In this blog post, I&rsquo;ll discuss our award-winning hackathon project from the 2021 Western Washington University Hackathon. Our team developed a web application called Fictionary that generates fictitious definitions for coherent words. We&rsquo;ll guide you through the process of building this app, which consists of a large language model, a website, and an API that passes information between the two. We&rsquo;ll also share code examples, images, and insights into our project&rsquo;s development."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Projects","item":"https://loganpashby.com/projects/"},{"@type":"ListItem","position":2,"name":"Fictionary","item":"https://loganpashby.com/projects/fictionary/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Fictionary","name":"Fictionary","description":"Introduction In this blog post, I\u0026rsquo;ll discuss our award-winning hackathon project from the 2021 Western Washington University Hackathon. Our team developed a web application called Fictionary that generates fictitious definitions for coherent words. We\u0026rsquo;ll guide you through the process of building this app, which consists of a large language model, a website, and an API that passes information between the two. We\u0026rsquo;ll also share code examples, images, and insights into our project\u0026rsquo;s development.","keywords":[],"articleBody":"Introduction In this blog post, Iâ€™ll discuss our award-winning hackathon project from the 2021 Western Washington University Hackathon. Our team developed a web application called Fictionary that generates fictitious definitions for coherent words. Weâ€™ll guide you through the process of building this app, which consists of a large language model, a website, and an API that passes information between the two. Weâ€™ll also share code examples, images, and insights into our projectâ€™s development.\nLanguage Model: Fine-Tuning GPT-2 To create Fictionary, we fine-tuned the GPT-2 language model (which we got from hugging face ðŸ¤—) on dictionary data to train it to generate new definitions for given words. We compared the results between fine-tuning on Urban Dictionary and the Online Plain Text English Dictionary. Ultimately, we decided to go with Urban Dictionary as the dataset was significantly larger and provided more entertaining definitions.\nData Cleaning and Profanity Check To get the data into a usable format, we downloaded all of Urban Dictionary to a CSV and used pandas to remove duplicates, extremely vulgar definitions, etc. We applied a profanity check in two places to the data to make the definitions generated from Urban Dictionary less vulgar. The aforementioned data-cleaning phase as well as in the API itself to check the actual generated text. This pared the dataset down to around 2 million word-definition pairs. Hereâ€™s a snippet of our profanity check code:\ntry: definition = models.define(model, word, num_return=1)[0] definition = definition .replace(']', '') .replace('[', '')\\ .replace('f***', 'duck') .replace('c***', 'trunk')\\ .replace('sex', 'love') if definition[-1] != '.': definition += '.' except Exception as e: print(e) definition = \"This word is undefinable. Good job...\" Please note that the model still may generate explicit material occasionally, so use it at your own discretion.\nBuilding the Website We built the website using Node.js and Express for the webserver backend, Handlebars for HTML templating, and Sass for styling. Below is a simplified example of our server setup:\njavascriptCopy codeconst express = require('express'); const app = express(); var indexRouter = require('./routes/index'); app.set('view engine', 'hbs'); app.use(express.static('public')); app.use('/', indexRouter); app.listen(3000, () =\u003e { console.log('Fictionary app listening on port 3000!'); }); Twitter and Zazzle API Integration We also integrated the Twitter API for users to tweet about their Fictionary words and the Zazzle API to create a custom mug featuring their words and definition.\nCreating the API with Flask Lastly, we developed an API using the Flask Python framework to communicate between the language model and the website. Hereâ€™s a basic example of our Flask API setup:\nfrom flask import Flask, request, jsonify import sys sys.path.append('..') import models.train as models app = Flask(__name__) # ML model definition loaded_models = { '1': 'data/dict-short.bin', '2': 'data/dict-long.bin', '3': 'data/urbandict.bin', '4': 'data/urbandict-long.bin', } model = input(f\"{loaded_models}\\nEnter model number from above: \") weights = loaded_models[model] model = models.get_model_for_api(weights_path=weights) @app.route('/word', methods=[\"POST\"]) def word(): data = request.json word = data['word'] definition = models.define(model, word, num_return=1)[0] resp_data = json.dumps( {'definition': definition} ) response = Response(resp_data) return response @app.route('/', methods=[\"GET\"]) def index(): return redirect(f'http://hackathon.chrisdaw.net:3030', 301) if __name__ == '__main__': \"\"\" # Load ML model for k, weights_path in loaded_models.items(): loaded_models[k] = models.get_model(weights_path) \"\"\" app.debug=True app.run(host='0.0.0.0') # run our Flask app Fictionary Now Available in React Since its release, I have forked the repo and made various improvements including:\nPorted the app over to React\nSet up permanent hosting on my website for everyone to enjoy\nAdded additional security to the Flask API like authentication\nCall to Action: Try Fictionary Now! We invite you to visit loganpashby.com/fictionary to try Fictionary for yourself. Generate your own unique and entertaining definitions for any words you can imagine and share them with your friends. You can also create a custom mug featuring your word and definition, or tweet your creations to your followers. Have fun, and remember to use Fictionary responsibly!\nThank you for reading our blog post about our award-winning hackathon project. We hope you found it insightful and enjoyable. If you have any questions or suggestions, please feel free to leave a comment below. Happy defining!\n","wordCount":"663","inLanguage":"en","image":"https://cdn.hashnode.com/res/hashnode/image/upload/v1682860188524/b1370476-d015-4cb4-90c9-c2a40a0b4fb7.png","datePublished":"2023-04-29T13:00:46-07:00","dateModified":"2023-04-29T13:00:46-07:00","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://loganpashby.com/projects/fictionary/"},"publisher":{"@type":"Organization","name":"Portfolio","logo":{"@type":"ImageObject","url":"https://loganpashby.com/logo.svg"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://loganpashby.com/ accesskey=h title="Home (Alt + H)"><img src=https://loganpashby.com/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://loganpashby.com/projects/ title=projects><span>projects</span></a></li><li><a href=https://loganpashby.com/blog/ title=blog><span>blog</span></a></li><li><a href=https://loganpashby.com/recipes/ title=recipes><span>recipes</span></a></li><li><a href=https://loganpashby.com/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://loganpashby.com/>Home</a>&nbsp;Â»&nbsp;<a href=https://loganpashby.com/projects/>Projects</a></div><h1 class="post-title entry-hint-parent">Fictionary</h1><div class=post-meta><span title='2023-04-29 13:00:46 -0700 -0700'>April 29, 2023</span>&nbsp;Â·&nbsp;4 min&nbsp;Â·&nbsp;663 words&nbsp;Â·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/pashbylogan/hugo_portfolio/content/projects/fictionary.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#language-model-fine-tuning-gpt-2><strong>Language Model: Fine-Tuning GPT-2</strong></a><ul><li><a href=#data-cleaning-and-profanity-check><strong>Data Cleaning and Profanity Check</strong></a></li></ul></li><li><a href=#building-the-website><strong>Building the Website</strong></a><ul><li><a href=#twitter-and-zazzle-api-integration><strong>Twitter and Zazzle API Integration</strong></a></li></ul></li><li><a href=#creating-the-api-with-flask><strong>Creating the API with Flask</strong></a></li><li><a href=#fictionary-now-available-in-react><strong>Fictionary Now Available in React</strong></a><ul><li><a href=#call-to-action-try-fictionary-now><strong>Call to Action: Try Fictionary Now!</strong></a></li></ul></li></ul></nav></div></details></div><div class=post-content><h2 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h2><p>In this blog post, I&rsquo;ll discuss our award-winning hackathon project from the 2021 Western Washington University Hackathon. Our team developed a web application called Fictionary that generates fictitious definitions for coherent words. We&rsquo;ll guide you through the process of building this app, which consists of a large language model, a website, and an API that passes information between the two. We&rsquo;ll also share code examples, images, and insights into our project&rsquo;s development.</p><figure><img loading=lazy src=https://cdn.hashnode.com/res/hashnode/image/upload/v1682860188524/b1370476-d015-4cb4-90c9-c2a40a0b4fb7.png alt="fictionary screenshot"></figure><h2 id=language-model-fine-tuning-gpt-2><strong>Language Model: Fine-Tuning GPT-2</strong><a hidden class=anchor aria-hidden=true href=#language-model-fine-tuning-gpt-2>#</a></h2><p>To create Fictionary, we fine-tuned the GPT-2 language model (which we got from <a href=https://huggingface.co/>hugging face</a> ðŸ¤—) on dictionary data to train it to generate new definitions for given words. We compared the results between fine-tuning on Urban Dictionary and the Online Plain Text English Dictionary. Ultimately, we decided to go with Urban Dictionary as the dataset was significantly larger and provided more entertaining definitions.</p><h3 id=data-cleaning-and-profanity-check><strong>Data Cleaning and Profanity Check</strong><a hidden class=anchor aria-hidden=true href=#data-cleaning-and-profanity-check>#</a></h3><p>To get the data into a usable format, we downloaded all of Urban Dictionary to a CSV and used pandas to remove duplicates, extremely vulgar definitions, etc. We applied a profanity check in two places to the data to make the definitions generated from Urban Dictionary less vulgar. The aforementioned data-cleaning phase as well as in the API itself to check the actual generated text. This pared the dataset down to around 2 million word-definition pairs. Here&rsquo;s a snippet of our profanity check code:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>definition</span> <span class=o>=</span> <span class=n>models</span><span class=o>.</span><span class=n>define</span><span class=p>(</span><span class=n>model</span><span class=p>,</span> <span class=n>word</span><span class=p>,</span> <span class=n>num_return</span><span class=o>=</span><span class=mi>1</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>definition</span> <span class=o>=</span> <span class=n>definition</span>
</span></span><span class=line><span class=cl>                    <span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s1>&#39;]&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s1>&#39;[&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>)</span>\
</span></span><span class=line><span class=cl>                    <span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s1>&#39;f***&#39;</span><span class=p>,</span> <span class=s1>&#39;duck&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s1>&#39;c***&#39;</span><span class=p>,</span> <span class=s1>&#39;trunk&#39;</span><span class=p>)</span>\
</span></span><span class=line><span class=cl>                    <span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s1>&#39;sex&#39;</span><span class=p>,</span> <span class=s1>&#39;love&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>definition</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=o>!=</span> <span class=s1>&#39;.&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>definition</span> <span class=o>+=</span> <span class=s1>&#39;.&#39;</span>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>e</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>definition</span> <span class=o>=</span> <span class=s2>&#34;This word is undefinable. Good job...&#34;</span>
</span></span></code></pre></div><p><em>Please note that the model still may generate explicit material occasionally, so use it at your own discretion.</em></p><h2 id=building-the-website><strong>Building the Website</strong><a hidden class=anchor aria-hidden=true href=#building-the-website>#</a></h2><p>We built the website using Node.js and Express for the webserver backend, Handlebars for HTML templating, and Sass for styling. Below is a simplified example of our server setup:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>javascriptCopy</span> <span class=nx>codeconst</span> <span class=nx>express</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;express&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>app</span> <span class=o>=</span> <span class=nx>express</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>indexRouter</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;./routes/index&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>set</span><span class=p>(</span><span class=s1>&#39;view engine&#39;</span><span class=p>,</span> <span class=s1>&#39;hbs&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=nx>express</span><span class=p>.</span><span class=kr>static</span><span class=p>(</span><span class=s1>&#39;public&#39;</span><span class=p>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=s1>&#39;/&#39;</span><span class=p>,</span> <span class=nx>indexRouter</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>listen</span><span class=p>(</span><span class=mi>3000</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Fictionary app listening on port 3000!&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></div><h3 id=twitter-and-zazzle-api-integration><strong>Twitter and Zazzle API Integration</strong><a hidden class=anchor aria-hidden=true href=#twitter-and-zazzle-api-integration>#</a></h3><p>We also integrated the Twitter API for users to tweet about their Fictionary words and the Zazzle API to create a custom mug featuring their words and definition.</p><figure><img loading=lazy src="https://rlv.zcache.com/fictionary_mug-r1fee51c5c3254ce9b1b2344860f0c7e8_kfpv9_1024.jpg?rlvnet=1&amp;t_text_txt=hello%20from%20my%20blog%0AA%20way%20of%20saying%20hello%20in%20a%20non-sensical%20manner.%20Often%20used%20by%20people%20who%20have%20never%20heard%20the%20term%2C%20and%20are%20too%20lazy%20to%20type%20%27Hello%27%20or%20say%20it%20correctly%20because%20they%27re%20bored%20with%20typing%20them%20out%20on%20their%20cell%20phone%20%28or%20any%20other%20device"></figure><h2 id=creating-the-api-with-flask><strong>Creating the API with Flask</strong><a hidden class=anchor aria-hidden=true href=#creating-the-api-with-flask>#</a></h2><p>Lastly, we developed an API using the Flask Python framework to communicate between the language model and the website. Here&rsquo;s a basic example of our Flask API setup:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>flask</span> <span class=kn>import</span> <span class=n>Flask</span><span class=p>,</span> <span class=n>request</span><span class=p>,</span> <span class=n>jsonify</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>sys</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>sys</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s1>&#39;..&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>models.train</span> <span class=k>as</span> <span class=nn>models</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>app</span> <span class=o>=</span> <span class=n>Flask</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ML model definition</span>
</span></span><span class=line><span class=cl><span class=n>loaded_models</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;1&#39;</span><span class=p>:</span> <span class=s1>&#39;data/dict-short.bin&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;2&#39;</span><span class=p>:</span> <span class=s1>&#39;data/dict-long.bin&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;3&#39;</span><span class=p>:</span> <span class=s1>&#39;data/urbandict.bin&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;4&#39;</span><span class=p>:</span> <span class=s1>&#39;data/urbandict-long.bin&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>model</span> <span class=o>=</span> <span class=nb>input</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>loaded_models</span><span class=si>}</span><span class=se>\n</span><span class=s2>Enter model number from above: &#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>weights</span> <span class=o>=</span> <span class=n>loaded_models</span><span class=p>[</span><span class=n>model</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>model</span> <span class=o>=</span> <span class=n>models</span><span class=o>.</span><span class=n>get_model_for_api</span><span class=p>(</span><span class=n>weights_path</span><span class=o>=</span><span class=n>weights</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.route</span><span class=p>(</span><span class=s1>&#39;/word&#39;</span><span class=p>,</span> <span class=n>methods</span><span class=o>=</span><span class=p>[</span><span class=s2>&#34;POST&#34;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>word</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>data</span> <span class=o>=</span> <span class=n>request</span><span class=o>.</span><span class=n>json</span>
</span></span><span class=line><span class=cl>    <span class=n>word</span> <span class=o>=</span> <span class=n>data</span><span class=p>[</span><span class=s1>&#39;word&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>definition</span> <span class=o>=</span> <span class=n>models</span><span class=o>.</span><span class=n>define</span><span class=p>(</span><span class=n>model</span><span class=p>,</span> <span class=n>word</span><span class=p>,</span> <span class=n>num_return</span><span class=o>=</span><span class=mi>1</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>resp_data</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span><span class=s1>&#39;definition&#39;</span><span class=p>:</span> <span class=n>definition</span><span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>response</span> <span class=o>=</span> <span class=n>Response</span><span class=p>(</span><span class=n>resp_data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>response</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@app.route</span><span class=p>(</span><span class=s1>&#39;/&#39;</span><span class=p>,</span> <span class=n>methods</span><span class=o>=</span><span class=p>[</span><span class=s2>&#34;GET&#34;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>index</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>redirect</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;http://hackathon.chrisdaw.net:3030&#39;</span><span class=p>,</span> <span class=mi>301</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    # Load ML model
</span></span></span><span class=line><span class=cl><span class=s2>    for k, weights_path in loaded_models.items():
</span></span></span><span class=line><span class=cl><span class=s2>        loaded_models[k] = models.get_model(weights_path)
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>app</span><span class=o>.</span><span class=n>debug</span><span class=o>=</span><span class=kc>True</span>
</span></span><span class=line><span class=cl>    <span class=n>app</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>host</span><span class=o>=</span><span class=s1>&#39;0.0.0.0&#39;</span><span class=p>)</span>  <span class=c1># run our Flask app</span>
</span></span></code></pre></div><h2 id=fictionary-now-available-in-react><strong>Fictionary Now Available in React</strong><a hidden class=anchor aria-hidden=true href=#fictionary-now-available-in-react>#</a></h2><p>Since its release, I have <a href=https://github.com/pashbylogan/Fictionary>forked the repo</a> and made various improvements including:</p><ol><li><p>Ported the app over to React</p></li><li><p>Set up permanent hosting on my website for everyone to enjoy</p></li><li><p>Added additional security to the Flask API like authentication</p></li></ol><h3 id=call-to-action-try-fictionary-now><strong>Call to Action: Try Fictionary Now!</strong><a hidden class=anchor aria-hidden=true href=#call-to-action-try-fictionary-now>#</a></h3><p>We invite you to visit <a href=http://loganpashby.com/fictionary><strong>loganpashby.com/fictionary</strong></a> to try Fictionary for yourself. Generate your own unique and entertaining definitions for any words you can imagine and share them with your friends. You can also create a custom mug featuring your word and definition, or tweet your creations to your followers. Have fun, and remember to use Fictionary responsibly!</p><p>Thank you for reading our blog post about our award-winning hackathon project. We hope you found it insightful and enjoyable. If you have any questions or suggestions, please feel free to leave a comment below. Happy defining!</p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://loganpashby.com/>Portfolio</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>